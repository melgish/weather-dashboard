svg(viewBox="0 0 100 100")
  defs
    include ../shared/gauge-defs.pug
    path#minute(d="M3 0 A3,3 1 1 1 -3 0 L-.8 -36 h.8z")
    path#hour(d="M3 0 A3,3 1 1 1 -3 0 L-.6 -26 h.6z")
    path#second(d="M1 0 A1.25,1.25 1 1 1 -1 0 L-.4 -42 h.4z", fill="red")
  g(transform="translate(50,50)"
    font-family="tahoma",
    dominant-baseline="middle",
    text-anchor="middle",
    font-size="6")
    use(href="#dial")
    use(href="#face")
    //- numbers
    g
      //- 44 is edge of face
      - var y = (-36);
      - for(i = 1; i < 13; i++)
        - var r = i * 30;
        g(transform="rotate(" + r + ")")
          use(href="#tic")
          text(y=y, transform="rotate(-" + r +" 0 " + y + ")")= i
    //- lcd
    g(transform="translate(0 16)")
      use(href="#lcd")
      text(font-size="9" y=1) {{ $ctrl.time | date: 'dd-MMM' }}
    //- hands
    g(stroke="#777", stroke-width=".1", filter="url(#dropShadow)")
      use(href="#hour", data-ng-attr-transform="rotate({{$ctrl.hour}})")
      use(href="#minute", data-ng-attr-transform="rotate({{$ctrl.minute}})")
      use(href="#second", data-ng-attr-transform="rotate({{$ctrl.second}})")
    use(href="#crystal")